{"ast":null,"code":"var _jsxFileName = \"/home/qobiljon/Desktop/dodpizza/src/components/AuthModal/AuthModal.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport classNames from 'classnames';\nimport { useEffect, useRef, useState } from 'react';\nimport { PatternFormat } from 'react-number-format';\nimport PhoneInput from 'react-phone-input-2';\nimport styles from './AuthModal.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const AuthModal = _ref => {\n  _s();\n\n  let {\n    isAuthModalOpen,\n    setIsAuthModalOpen\n  } = _ref;\n  const modalBgRef = useRef(null);\n  const submitBtnRef = useRef(null);\n  const otpBtnRef = useRef(null);\n  const [value, setValue] = useState('+998');\n  const [modalState, setModalState] = useState(1);\n  const [timer, setTimer] = useState(5);\n\n  const modalCloseHandler = () => {\n    setIsAuthModalOpen(false);\n    setTimer(0);\n    setModalState(1);\n  };\n\n  const blockZoomInHandler = e => {\n    if (e.ctrlKey) e.preventDefault();\n  };\n\n  const isTelValid = tel => {\n    if (tel.length === 12 && tel.startsWith('998')) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const pressArrowLeftHandler = e => {\n    const input = e.target;\n\n    if (input && input.previousElementSibling) {\n      const nextInput = input.previousElementSibling;\n      input.blur();\n      nextInput.focus();\n    }\n  };\n\n  const pressArrowRightHandler = e => {\n    const input = e.target;\n\n    if (input && input.nextElementSibling) {\n      const nextInput = input.nextElementSibling;\n      input.blur();\n      nextInput.focus();\n    }\n  };\n\n  const OTPCodeInputHandler = e => {\n    if (e.key === 'Tab') {\n      e.preventDefault();\n    }\n\n    if (e.key === 'ArrowLeft') {\n      pressArrowLeftHandler(e);\n    } else if (e.key === 'ArrowRight' || e.key === 'Tab') {\n      pressArrowRightHandler(e);\n    } else if (e.key === 'Backspace') {\n      const input = e.target;\n\n      if (input.value) {\n        input.value = '';\n      } else {\n        pressArrowLeftHandler(e);\n      }\n    } else if (/\\d/.test(e.key) && e.key !== 'e') {\n      const input = e.target;\n      const nextInput = input.nextElementSibling;\n\n      if (input.value.length === 1) {\n        input.value = e.key;\n      }\n\n      if (nextInput) {\n        setTimeout(() => {\n          nextInput.focus();\n        }, 0);\n      }\n    } else {\n      e.preventDefault();\n    }\n  };\n\n  useEffect(() => {\n    const rootElem = document.querySelector('#root');\n\n    if (isAuthModalOpen) {\n      if (rootElem) rootElem.addEventListener('wheel', blockZoomInHandler);\n      document.body.style.overflow = 'hidden';\n    } else {\n      if (rootElem) rootElem.removeEventListener('wheel', blockZoomInHandler);\n      document.body.style.overflow = '';\n    }\n\n    if (submitBtnRef.current) {\n      if (isTelValid(value)) {\n        submitBtnRef.current.disabled = false;\n      } else {\n        submitBtnRef.current.disabled = true;\n      }\n    }\n  });\n\n  const clickOTPButtonHandler = () => {\n    if (otpBtnRef.current) {\n      otpBtnRef.current.disabled = true;\n\n      if (timer > 0) {\n        setTimeout(() => {\n          setTimer(timer - 1);\n        }, 1000);\n      } else {\n        otpBtnRef.current.disabled = false;\n      }\n    }\n  };\n\n  useEffect(() => {\n    clickOTPButtonHandler();\n    const OTPInputs = document.querySelectorAll('[data-name=\"OTPInput\"]');\n    const values = [];\n    OTPInputs.forEach(OTPInput => {\n      if (OTPInput.value) {\n        values.push(OTPInput.value);\n      }\n    });\n\n    if (values.length === 4) {\n      axios.post('http://localhost:8003/auth/otpcheck', {\n        code: values.join('')\n      });\n    }\n  });\n  useEffect(() => {\n    const firstOTPInput = document.querySelector('[data-name=\"OTPInput\"]');\n\n    if (firstOTPInput) {\n      firstOTPInput.focus();\n    }\n  }, [modalState]);\n  useEffect(() => {\n    const telInput = document.querySelector('.react-tel-input input');\n    if (modalState === 2) telInput.tabIndex = 1;else telInput.tabIndex = -1;\n  }, [isAuthModalOpen]);\n  useEffect(() => {\n    const telInput = document.querySelector('.react-tel-input input');\n\n    if (telInput && telInput.parentElement && telInput === document.activeElement) {\n      telInput.parentElement.style.borderColor = '#ff6900';\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classNames(styles.modal, styles.modalSmall, {\n        [styles.modalActive]: isAuthModalOpen\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.modalClose,\n        type: \"button\",\n        onClick: modalCloseHandler,\n        tabIndex: -1,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"modal_close.svg\",\n          alt: \"Close button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.modalTitle,\n        children: \"\\u0412\\u0445\\u043E\\u0434 \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 5\n      }, this), modalState === 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.modalDescription,\n          children: \"\\u041F\\u043E\\u0434\\u0430\\u0440\\u0438\\u043C \\u043F\\u043E\\u0434\\u0430\\u0440\\u043E\\u043A \\u043D\\u0430 \\u0434\\u0435\\u043D\\u044C \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F, \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u043C \\u0430\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438 \\u0438 \\u0440\\u0430\\u0441\\u0441\\u043A\\u0430\\u0436\\u0435\\u043C \\u043E\\u0431 \\u0430\\u043A\\u0446\\u0438\\u044F\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"#\",\n          className: styles.modalForm,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.modalFormContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.inputLabels,\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.labelText,\n                  children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.telInputContainer,\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n                  placeholder: \"+998-99-999-99-99\",\n                  value: value,\n                  onChange: setValue,\n                  country: \"uz\",\n                  masks: {\n                    uz: '..-...-..-..'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"\\u0412\\u044B\\u0441\\u043B\\u0430\\u0442\\u044C \\u043A\\u043E\\u0434\",\n            className: styles.submitButton,\n            ref: submitBtnRef,\n            tabIndex: -1,\n            onClick: e => {\n              e.preventDefault();\n              axios.post('http://localhost:8003/auth', {\n                tel: value\n              });\n              setModalState(2);\n              setTimer(10);\n              clickOTPButtonHandler();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: classNames(styles.modalDescription, styles.shortDescription),\n          children: \"\\u041A\\u043E\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0438 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\\u043C \\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.formattedTel,\n          children: [/*#__PURE__*/_jsxDEV(PatternFormat, {\n            value: value,\n            format: \"+### ## ### ## ##\",\n            tabIndex: -1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.ghostButton,\n            onClick: () => {\n              setModalState(1);\n              setTimer(0);\n            },\n            children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.otpCodeInputs,\n          children: [1, 2, 3, 4].map(id => {\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              pattern: \"[0-9]*\",\n              className: styles.OTPInput,\n              maxLength: 1,\n              onKeyDown: e => {\n                OTPCodeInputHandler(e);\n              },\n              onChange: e => {\n                if (/\\D/.test(e.target.value)) {\n                  e.target.value = '';\n                }\n              },\n              tabIndex: 1,\n              \"data-name\": \"OTPInput\"\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 10\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: timer !== 0 ? `Получить новый код через ${timer} сек.` : 'Получить новый код',\n          className: styles.submitButton,\n          ref: otpBtnRef,\n          onClick: e => {\n            e.preventDefault();\n            axios.post('http://localhost:8003/auth', {\n              tel: value\n            });\n            setTimer(10);\n            clickOTPButtonHandler();\n          },\n          tabIndex: -1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modalBg,\n      ref: modalBgRef,\n      onClick: modalCloseHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AuthModal, \"7vf7puEt2g6aRwTnjcnrewvc8Ao=\");\n\n_c = AuthModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthModal\");","map":{"version":3,"names":["axios","classNames","useEffect","useRef","useState","PatternFormat","PhoneInput","styles","AuthModal","isAuthModalOpen","setIsAuthModalOpen","modalBgRef","submitBtnRef","otpBtnRef","value","setValue","modalState","setModalState","timer","setTimer","modalCloseHandler","blockZoomInHandler","e","ctrlKey","preventDefault","isTelValid","tel","length","startsWith","pressArrowLeftHandler","input","target","previousElementSibling","nextInput","blur","focus","pressArrowRightHandler","nextElementSibling","OTPCodeInputHandler","key","test","setTimeout","rootElem","document","querySelector","addEventListener","body","style","overflow","removeEventListener","current","disabled","clickOTPButtonHandler","OTPInputs","querySelectorAll","values","forEach","OTPInput","push","post","code","join","firstOTPInput","telInput","tabIndex","parentElement","activeElement","borderColor","modal","modalSmall","modalActive","modalClose","modalTitle","modalDescription","modalForm","modalFormContainer","inputLabels","labelText","telInputContainer","uz","submitButton","shortDescription","formattedTel","ghostButton","otpCodeInputs","map","id","modalBg"],"sources":["/home/qobiljon/Desktop/dodpizza/src/components/AuthModal/AuthModal.tsx"],"sourcesContent":["import axios from 'axios'\nimport classNames from 'classnames'\nimport { useEffect, useRef, useState } from 'react'\nimport { PatternFormat } from 'react-number-format'\nimport PhoneInput from 'react-phone-input-2'\nimport styles from './AuthModal.module.scss'\n\nexport interface IAuthModalProps {\n\tisAuthModalOpen: boolean\n\tsetIsAuthModalOpen: Function\n}\n\nexport const AuthModal: React.FC<IAuthModalProps> = ({\n\tisAuthModalOpen,\n\tsetIsAuthModalOpen,\n}: IAuthModalProps) => {\n\tconst modalBgRef = useRef<HTMLDivElement>(null)\n\tconst submitBtnRef = useRef<HTMLInputElement>(null)\n\tconst otpBtnRef = useRef<HTMLInputElement>(null)\n\n\tconst [value, setValue] = useState<string>('+998')\n\tconst [modalState, setModalState] = useState<number>(1)\n\tconst [timer, setTimer] = useState<number>(5)\n\n\tconst modalCloseHandler = (): void => {\n\t\tsetIsAuthModalOpen(false)\n\t\tsetTimer(0)\n\t\tsetModalState(1)\n\t}\n\n\tconst blockZoomInHandler = (e: any): void => {\n\t\tif (e.ctrlKey) e.preventDefault()\n\t}\n\n\tconst isTelValid = (tel: string): boolean => {\n\t\tif (tel.length === 12 && tel.startsWith('998')) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tconst pressArrowLeftHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\n\t\tconst input = e.target as HTMLInputElement\n\t\tif (input && input.previousElementSibling) {\n\t\t\tconst nextInput = input.previousElementSibling as HTMLInputElement\n\t\t\tinput.blur()\n\t\t\tnextInput.focus()\n\t\t}\n\t}\n\n\tconst pressArrowRightHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\n\t\tconst input = e.target as HTMLInputElement\n\t\tif (input && input.nextElementSibling) {\n\t\t\tconst nextInput = input.nextElementSibling as HTMLInputElement\n\t\t\tinput.blur()\n\t\t\tnextInput.focus()\n\t\t}\n\t}\n\n\tconst OTPCodeInputHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\n\t\tif (e.key === 'Tab') {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tif (e.key === 'ArrowLeft') {\n\t\t\tpressArrowLeftHandler(e)\n\t\t} else if (e.key === 'ArrowRight' || e.key === 'Tab') {\n\t\t\tpressArrowRightHandler(e)\n\t\t} else if (e.key === 'Backspace') {\n\t\t\tconst input = e.target as HTMLInputElement\n\t\t\tif (input.value) {\n\t\t\t\tinput.value = ''\n\t\t\t} else {\n\t\t\t\tpressArrowLeftHandler(e)\n\t\t\t}\n\t\t} else if (/\\d/.test(e.key) && e.key !== 'e') {\n\t\t\tconst input = e.target as HTMLInputElement\n\t\t\tconst nextInput = input.nextElementSibling as HTMLInputElement\n\n\t\t\tif (input.value.length === 1) {\n\t\t\t\tinput.value = e.key\n\t\t\t}\n\n\t\t\tif (nextInput) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tnextInput.focus()\n\t\t\t\t}, 0)\n\t\t\t}\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst rootElem = document.querySelector('#root')\n\t\tif (isAuthModalOpen) {\n\t\t\tif (rootElem) rootElem.addEventListener('wheel', blockZoomInHandler)\n\t\t\tdocument.body.style.overflow = 'hidden'\n\t\t} else {\n\t\t\tif (rootElem) rootElem.removeEventListener('wheel', blockZoomInHandler)\n\t\t\tdocument.body.style.overflow = ''\n\t\t}\n\n\t\tif (submitBtnRef.current) {\n\t\t\tif (isTelValid(value)) {\n\t\t\t\tsubmitBtnRef.current.disabled = false\n\t\t\t} else {\n\t\t\t\tsubmitBtnRef.current.disabled = true\n\t\t\t}\n\t\t}\n\t})\n\n\tconst clickOTPButtonHandler = () => {\n\t\tif (otpBtnRef.current) {\n\t\t\totpBtnRef.current.disabled = true\n\t\t\tif (timer > 0) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetTimer(timer - 1)\n\t\t\t\t}, 1000)\n\t\t\t} else {\n\t\t\t\totpBtnRef.current.disabled = false\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tclickOTPButtonHandler()\n\t\tconst OTPInputs = document.querySelectorAll(\n\t\t\t'[data-name=\"OTPInput\"]'\n\t\t) as NodeListOf<HTMLInputElement>\n\n\t\tconst values: string[] = []\n\t\tOTPInputs.forEach((OTPInput: HTMLInputElement) => {\n\t\t\tif (OTPInput.value) {\n\t\t\t\tvalues.push(OTPInput.value)\n\t\t\t}\n\t\t})\n\n\t\tif (values.length === 4) {\n\t\t\taxios.post('http://localhost:8003/auth/otpcheck', { code: values.join('') })\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\tconst firstOTPInput = document.querySelector(\n\t\t\t'[data-name=\"OTPInput\"]'\n\t\t) as HTMLInputElement\n\t\tif (firstOTPInput) {\n\t\t\tfirstOTPInput.focus()\n\t\t}\n\t}, [modalState])\n\n\tuseEffect(() => {\n\t\tconst telInput = document.querySelector(\n\t\t\t'.react-tel-input input'\n\t\t) as HTMLInputElement\n\n\t\tif (modalState === 2) telInput.tabIndex = 1\n\t\telse telInput.tabIndex = -1\n\t}, [isAuthModalOpen])\n\n\tuseEffect(() => {\n\t\tconst telInput = document.querySelector(\n\t\t\t'.react-tel-input input'\n\t\t) as HTMLInputElement\n\t\tif (\n\t\t\ttelInput &&\n\t\t\ttelInput.parentElement &&\n\t\t\ttelInput === document.activeElement\n\t\t) {\n\t\t\ttelInput.parentElement.style.borderColor = '#ff6900'\n\t\t}\n\t})\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={classNames(styles.modal, styles.modalSmall, {\n\t\t\t\t\t[styles.modalActive]: isAuthModalOpen,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclassName={styles.modalClose}\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={modalCloseHandler}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t>\n\t\t\t\t\t<img src='modal_close.svg' alt='Close button' />\n\t\t\t\t</button>\n\t\t\t\t<h2 className={styles.modalTitle}>Вход на сайт</h2>\n\t\t\t\t{modalState === 1 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className={styles.modalDescription}>\n\t\t\t\t\t\t\tПодарим подарок на день рождения, сохраним адрес доставки и расскажем об\n\t\t\t\t\t\t\tакциях\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<form action='#' className={styles.modalForm}>\n\t\t\t\t\t\t\t<div className={styles.modalFormContainer}>\n\t\t\t\t\t\t\t\t<div className={styles.inputLabels}>\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<span className={styles.labelText}>Номер телефона</span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={styles.telInputContainer}>\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<PhoneInput\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='+998-99-999-99-99'\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={setValue}\n\t\t\t\t\t\t\t\t\t\t\tcountry='uz'\n\t\t\t\t\t\t\t\t\t\t\tmasks={{ uz: '..-...-..-..' }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tvalue='Выслать код'\n\t\t\t\t\t\t\t\tclassName={styles.submitButton}\n\t\t\t\t\t\t\t\tref={submitBtnRef}\n\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\tonClick={(e): void => {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\taxios.post('http://localhost:8003/auth', { tel: value })\n\t\t\t\t\t\t\t\t\tsetModalState(2)\n\t\t\t\t\t\t\t\t\tsetTimer(10)\n\t\t\t\t\t\t\t\t\tclickOTPButtonHandler()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName={classNames(styles.modalDescription, styles.shortDescription)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tКод отправили сообщением на\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className={styles.formattedTel}>\n\t\t\t\t\t\t\t<PatternFormat value={value} format='+### ## ### ## ##' tabIndex={-1} />\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={styles.ghostButton}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetModalState(1)\n\t\t\t\t\t\t\t\t\tsetTimer(0)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tИзменить\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.otpCodeInputs}>\n\t\t\t\t\t\t\t{[1, 2, 3, 4].map(id => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='tel'\n\t\t\t\t\t\t\t\t\t\tpattern='[0-9]*'\n\t\t\t\t\t\t\t\t\t\tclassName={styles.OTPInput}\n\t\t\t\t\t\t\t\t\t\tmaxLength={1}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={e => {\n\t\t\t\t\t\t\t\t\t\t\tOTPCodeInputHandler(e)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonChange={(e): void => {\n\t\t\t\t\t\t\t\t\t\t\tif (/\\D/.test(e.target.value)) {\n\t\t\t\t\t\t\t\t\t\t\t\te.target.value = ''\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttabIndex={1}\n\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\tdata-name='OTPInput'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\ttimer !== 0\n\t\t\t\t\t\t\t\t\t? `Получить новый код через ${timer} сек.`\n\t\t\t\t\t\t\t\t\t: 'Получить новый код'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={styles.submitButton}\n\t\t\t\t\t\t\tref={otpBtnRef}\n\t\t\t\t\t\t\tonClick={(e): void => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\taxios.post('http://localhost:8003/auth', { tel: value })\n\n\t\t\t\t\t\t\t\tsetTimer(10)\n\t\t\t\t\t\t\t\tclickOTPButtonHandler()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={styles.modalBg}\n\t\t\t\tref={modalBgRef}\n\t\t\t\tonClick={modalCloseHandler}\n\t\t\t/>\n\t\t</>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}